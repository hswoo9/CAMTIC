<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dept">

    <select id="getDeptAList" resultType="map">
        /*getDeptAList*/
        SELECT A.*
        FROM CAM_HR.DJ_DEPT_INFO A
        LEFT JOIN CAM_HR.DJ_DEPT_INFO B
        ON B.DEPT_SEQ = A.PARENT_DEPT_SEQ
        WHERE A.DEPT_LEVEL = #{deptLevel}
        <if test="parentDeptSeq != null and parentDeptSeq != ''">
        AND
            A.PARENT_DEPT_SEQ = #{parentDeptSeq}
        </if>
        AND A.USE_YN = 'Y'
        AND B.USE_YN = 'Y'
        ORDER BY A.DEPT_LEVEL, A.ORDER_SN
    </select>

    <select id="getDeptBList" resultType="map">
        /*getDeptBList*/
        SELECT A.*, B.DEPT_NAME AS PARENT_DEPT_NAME
        FROM CAM_HR.DJ_DEPT_INFO A
        LEFT JOIN CAM_HR.DJ_DEPT_INFO B
        ON B.DEPT_SEQ = A.PARENT_DEPT_SEQ
        WHERE A.DEPT_LEVEL = #{deptLevel}
        <if test="parentDeptSeq != null and parentDeptSeq != ''">
            AND
            A.PARENT_DEPT_SEQ = #{parentDeptSeq}
        </if>
        AND A.USE_YN = 'Y'
        AND B.USE_YN = 'Y'
        ORDER BY B.ORDER_SN, A.ORDER_SN
    </select>


</mapper>